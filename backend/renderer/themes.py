"""Color themes for the pro rendering engine."""

THEMES = {
    "tech_blue": {
        "name": "Tech Blue",
        "bg": "#0F172A",
        "bg_secondary": "#1A2332",
        "card": "#1E293B",
        "card_hover": "#263548",
        "accent": "#3B82F6",
        "accent2": "#8B5CF6",
        "accent3": "#06B6D4",
        "text": "#F8FAFC",
        "text_secondary": "#CBD5E1",
        "text_muted": "#94A3B8",
        "border": "#334155",
        "success": "#22C55E",
        "warning": "#F59E0B",
        "error": "#EF4444",
        "gradient_start": "#3B82F6",
        "gradient_end": "#8B5CF6",
        "layer_colors": ["#1E3A5F", "#1E2D4A", "#1A2744", "#16203B"],
        "node_colors": ["#3B82F6", "#8B5CF6", "#06B6D4", "#22C55E", "#F59E0B", "#EC4899"],
    },
    "clean_white": {
        "name": "Clean White",
        "bg": "#FFFFFF",
        "bg_secondary": "#F8FAFC",
        "card": "#F1F5F9",
        "card_hover": "#E2E8F0",
        "accent": "#2563EB",
        "accent2": "#7C3AED",
        "accent3": "#0891B2",
        "text": "#0F172A",
        "text_secondary": "#334155",
        "text_muted": "#64748B",
        "border": "#CBD5E1",
        "success": "#16A34A",
        "warning": "#D97706",
        "error": "#DC2626",
        "gradient_start": "#2563EB",
        "gradient_end": "#7C3AED",
        "layer_colors": ["#EFF6FF", "#F5F3FF", "#ECFEFF", "#F0FDF4"],
        "node_colors": ["#2563EB", "#7C3AED", "#0891B2", "#16A34A", "#D97706", "#DB2777"],
    },
    "dark_modern": {
        "name": "Dark Modern",
        "bg": "#18181B",
        "bg_secondary": "#1F1F23",
        "card": "#27272A",
        "card_hover": "#323236",
        "accent": "#F97316",
        "accent2": "#EC4899",
        "accent3": "#A855F7",
        "text": "#FAFAFA",
        "text_secondary": "#D4D4D8",
        "text_muted": "#A1A1AA",
        "border": "#3F3F46",
        "success": "#4ADE80",
        "warning": "#FBBF24",
        "error": "#F87171",
        "gradient_start": "#F97316",
        "gradient_end": "#EC4899",
        "layer_colors": ["#2D2520", "#2A2028", "#261F2E", "#1F2028"],
        "node_colors": ["#F97316", "#EC4899", "#A855F7", "#4ADE80", "#FBBF24", "#38BDF8"],
    },
    "ocean": {
        "name": "Ocean",
        "bg": "#0C1222",
        "bg_secondary": "#0F1729",
        "card": "#162032",
        "card_hover": "#1C2940",
        "accent": "#06B6D4",
        "accent2": "#3B82F6",
        "accent3": "#22D3EE",
        "text": "#F0F9FF",
        "text_secondary": "#BAE6FD",
        "text_muted": "#7DD3FC",
        "border": "#1E3A5F",
        "success": "#34D399",
        "warning": "#FBBF24",
        "error": "#FB7185",
        "gradient_start": "#06B6D4",
        "gradient_end": "#3B82F6",
        "layer_colors": ["#0C1E33", "#0E1F36", "#101F38", "#111E3A"],
        "node_colors": ["#06B6D4", "#3B82F6", "#22D3EE", "#34D399", "#FBBF24", "#A78BFA"],
    },
    "emerald": {
        "name": "Emerald",
        "bg": "#0A1F1A",
        "bg_secondary": "#0D2820",
        "card": "#133026",
        "card_hover": "#1A3D30",
        "accent": "#10B981",
        "accent2": "#34D399",
        "accent3": "#06B6D4",
        "text": "#F0FDF4",
        "text_secondary": "#BBF7D0",
        "text_muted": "#86EFAC",
        "border": "#1A4D3A",
        "success": "#4ADE80",
        "warning": "#FCD34D",
        "error": "#FB7185",
        "gradient_start": "#10B981",
        "gradient_end": "#06B6D4",
        "layer_colors": ["#0D2E22", "#102E26", "#132E2A", "#152E2D"],
        "node_colors": ["#10B981", "#34D399", "#06B6D4", "#F59E0B", "#A78BFA", "#FB923C"],
    },
    # === DailyDoseofDS / AI Engineering Guidebook style ===
    "guidebook": {
        "name": "AI Guidebook",
        "bg": "#FAFBFE",
        "bg_secondary": "#F0F4FF",
        "card": "#FFFFFF",
        "card_hover": "#F5F8FF",
        "accent": "#5B8DEF",
        "accent2": "#FF7B54",
        "accent3": "#4ECDC4",
        "text": "#1A1A2E",
        "text_secondary": "#3D3D5C",
        "text_muted": "#6B7B8D",
        "border": "#D8E2F0",
        "success": "#4ECDC4",
        "warning": "#FF7B54",
        "error": "#FF4757",
        "gradient_start": "#5B8DEF",
        "gradient_end": "#7C5CFC",
        "section_colors": [
            {"fill": "#EBF3FF", "border": "#5B8DEF", "text": "#2B5EA7", "header_bg": "#5B8DEF"},
            {"fill": "#FFF0EB", "border": "#FF7B54", "text": "#C44D2B", "header_bg": "#FF7B54"},
            {"fill": "#E8FBF9", "border": "#4ECDC4", "text": "#2A8A83", "header_bg": "#4ECDC4"},
            {"fill": "#F3EEFF", "border": "#7C5CFC", "text": "#5039B0", "header_bg": "#7C5CFC"},
            {"fill": "#FFF8E6", "border": "#FFB946", "text": "#A07020", "header_bg": "#FFB946"},
            {"fill": "#FFE8F0", "border": "#FF6B9D", "text": "#B03A60", "header_bg": "#FF6B9D"},
        ],
        "layer_colors": ["#EBF3FF", "#FFF0EB", "#E8FBF9", "#F3EEFF"],
        "node_colors": ["#5B8DEF", "#FF7B54", "#4ECDC4", "#7C5CFC", "#FFB946", "#FF6B9D"],
        "dashed_border": False,
        "node_header_band": True,
        "outer_border_color": "#5B8DEF",
        "step_number_bg": "#FFFFFF",
        "step_number_border": "#5B8DEF",
        "numbered_arrows": True,
        "show_descriptions": True,
    },
    # === SwirlAI / ByteByteGo style whiteboard ===
    "whiteboard": {
        "name": "Whiteboard",
        "bg": "#FFFFFF",
        "bg_secondary": "#F8FBFF",
        "card": "#FFFFFF",
        "card_hover": "#F0F7FF",
        "accent": "#2B7DE9",
        "accent2": "#E8833A",
        "accent3": "#4CAF50",
        "text": "#1A1A2E",
        "text_secondary": "#3D3D5C",
        "text_muted": "#5A6B7D",
        "border": "#2B7DE9",
        "success": "#4CAF50",
        "warning": "#E8833A",
        "error": "#E53935",
        "gradient_start": "#2B7DE9",
        "gradient_end": "#1565C0",
        "section_colors": [
            {"fill": "#E3F2FD", "border": "#2B7DE9", "text": "#1565C0"},
            {"fill": "#FFF3E0", "border": "#E8833A", "text": "#BF360C"},
            {"fill": "#E8F5E9", "border": "#4CAF50", "text": "#2E7D32"},
            {"fill": "#FCE4EC", "border": "#E53935", "text": "#C62828"},
            {"fill": "#F3E5F5", "border": "#9C27B0", "text": "#6A1B9A"},
            {"fill": "#E0F7FA", "border": "#00ACC1", "text": "#006064"},
            {"fill": "#FFF9C4", "border": "#F9A825", "text": "#F57F17"},
            {"fill": "#F1F8E9", "border": "#689F38", "text": "#33691E"},
        ],
        "layer_colors": ["#E3F2FD", "#FFF3E0", "#E8F5E9", "#FCE4EC"],
        "node_colors": ["#2B7DE9", "#E8833A", "#4CAF50", "#E53935", "#9C27B0", "#00ACC1", "#F9A825", "#689F38"],
        "dashed_border": True,
        "outer_border_color": "#2B7DE9",
        "step_number_bg": "#FFFFFF",
        "step_number_border": "#2B7DE9",
        # Viral rendering flags
        "use_bezier_arrows": True,
        "use_icon_backgrounds": True,
        "arrow_default_dashed": True,
        "zone_fill_alpha": 40,
        "icon_size_multiplier": 1.5,
        "connection_label_style": "italic",
        "title_style": "boxed",
    },
}


def hex_to_rgb(hex_color: str) -> tuple[int, int, int]:
    h = hex_color.lstrip("#")
    return tuple(int(h[i : i + 2], 16) for i in (0, 2, 4))


def hex_to_rgba(hex_color: str, alpha: int = 255) -> tuple[int, int, int, int]:
    r, g, b = hex_to_rgb(hex_color)
    return (r, g, b, alpha)


def get_theme(name: str) -> dict:
    return THEMES.get(name, THEMES["whiteboard"])


def list_themes() -> list[str]:
    return list(THEMES.keys())
